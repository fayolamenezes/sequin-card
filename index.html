<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Scroll Tilt Card Stack</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: sans-serif;
      background: #f4f4f4;
      overflow-x: hidden;
    }

    .section {
      height: 100vh;
      width: 100%;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .card-container {
      position: relative;
      width: 300px;
      height: 350px;
    }

    .card {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 0; /* Removed border radius */
      box-shadow: none; /* Removed box shadow */
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      transform-style: preserve-3d;
      opacity: 0;
      background: #000; /* Changed to black */
    }

    .card img {
      width: 80%;
      height: auto;
    }

    .last {
      background: #eee;
      flex-direction: column;
      padding: 20px;
      text-align: center;
    }

    .text-block-2 {
      font-size: 18px;
      font-weight: 600;
    }

    .big-text {
      font-size: 22px;
      margin: 10px 0;
    }

    .link-block {
      display: inline-block;
      padding: 12px 20px;
      margin-top: 15px;
      background: #000;
      color: #fff;
      text-decoration: none;
      border-radius: 6px;
      position: relative;
    }

    .corner-top-left,
    .corner-top-right,
    .corner-bottom-left,
    .corner-bottom-right {
      position: absolute;
      width: 20px;
      height: 20px;
    }

    .corner-top-left { top: 0; left: 0; }
    .corner-top-right { top: 0; right: 0; }
    .corner-bottom-left { bottom: 0; left: 0; }
    .corner-bottom-right { bottom: 0; right: 0; }

    .line-1,
    .line-2 {
      background: #fff;
      height: 2px;
      width: 100%;
      margin: 1px 0;
    }

    .div-block {
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: transparent;
    }
  </style>
</head>
<body>

<section class="section" id="card-section">
  <div class="card-container">
    <div class="card one">
      <div class="div-block _1"></div>
      <img src="https://cdn.prod.website-files.com/6740471331c3ef2ba0ada212/67fcc3b1b7f86284660946aa_Frame%2060%20(6).svg" alt="">
    </div>
    <div class="card two">
      <div class="div-block _2"></div>
      <img src="https://cdn.prod.website-files.com/6740471331c3ef2ba0ada212/67f57f9a707cb3628987ed6d_Frame%2060%20(2).svg" alt="">
    </div>
    <div class="card three">
      <div class="div-block _3"></div>
      <img src="https://cdn.prod.website-files.com/6740471331c3ef2ba0ada212/67fcc3d2233f9c58b5167407_Frame%2061.svg" alt="">
    </div>
    <div class="card last bg-grey">
      <div class="text-block-2">Create your own style</div>
      <div class="big-text left-align mb">Get involved, and your design could be featured on our website!</div>
      <a id="button-glitch" href="/create-your-style" class="link-block bg-card w-inline-block">
        CREATE YOUR STYLE
        <div class="corner-top-left"><div class="line-1"></div><div class="line-2"></div></div>
        <div class="corner-top-right"><div class="line-1"></div><div class="line-2"></div></div>
        <div class="corner-bottom-left"><div class="line-1"></div><div class="line-2"></div></div>
        <div class="corner-bottom-right"><div class="line-1"></div><div class="line-2"></div></div>
      </a>
    </div>
  </div>
</section>

<!-- GSAP + ScrollTrigger -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

<script>
  gsap.registerPlugin(ScrollTrigger);

  const cards = document.querySelectorAll('.card');
  const entryTilt = [6, -6, 6, 0];  
  const finalTilt = [12, -12, 16, 0]; 

  const tl = gsap.timeline({
    scrollTrigger: {
      trigger: "#card-section",
      start: "top top",
      end: "+=3000",
      scrub: true,
      pin: true,
    }
  });

  cards.forEach((card, i) => {
    const isLast = card.classList.contains("last");
    const entryLabel = `card${i}-entry`;

    tl.addLabel(entryLabel);

    tl.fromTo(card,
      {
        yPercent: 100,
        scale: isLast ? 0.9 : 1.1,
        rotateZ: 0,
        opacity: 0
      },
      {
        yPercent: 0,
        scale: isLast ? 1 : 1.05,
        rotateZ: isLast ? 0 : entryTilt[i],
        opacity: 1,
        duration: 0.6,
        ease: "power1.out",
        onStart: () => card.style.zIndex = 10 + i
      },
      entryLabel
    );

    if (i > 0) {
      const prevCard = cards[i - 1];
      tl.to(prevCard, {
        rotateZ: finalTilt[i - 1],
        duration: 0.5,
        ease: "power1.out"
      }, entryLabel);
    }
  });
</script>

</body>
</html>
